(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(t,e,s){t.exports=s(12)},,,,,,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var a=s(0),r=s.n(a),n=s(2),i=s.n(n);s(9),s(10);var o=class extends r.a.Component{constructor(t){super(t),this.handleInputChange=(t=>{const e=t.target,s="checkbox"===e.type?e.checked:e.value,a=e.name;this.setState({[a]:s})}),this.handleSubmit=(t=>{t.preventDefault(),this.props.onWordAdded({original:this.state.original,translation:this.state.target,lastRevised:null}),this.setState({original:"",target:""})}),this.state={original:"",target:""}}render(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"original"},"Original"),r.a.createElement("input",{type:"text",onChange:this.handleInputChange,value:this.state.original,name:"original"}),r.a.createElement("label",{htmlFor:"target"},"Target"),r.a.createElement("input",{type:"text",onChange:this.handleInputChange,value:this.state.target,name:"target"}),r.a.createElement("input",{type:"submit",value:"Add word"}))}};s(11);var l=class extends r.a.Component{constructor(t){super(t),this.wordsCount=(t=>{this.setState({wordsCount:t.target.value})}),this.startRevision=(()=>{let t=this.props.words.slice(0,this.state.wordsCount);for(let a=t.length-1;a>0;a--){const s=Math.floor(Math.random()*(a+1));var e=[t[s],t[a]];t[a]=e[0],t[s]=e[1]}let s=[];for(let a=0;a<this.state.wordsCount;a++)s.push(Math.random()>.5?"original":"translation");this.setState({revisedWords:t,revisionInProgress:!0,step:0,langSettings:s})}),this.stopRevisingByButton=(()=>{}),this.nextStep=(t=>{let e,s=0,a=this;function r(t){return a.state.revisedWords[s].original===t.original&&a.state.revisedWords[s].translation===t.translation}let n="original"===this.state.langSettings[this.state.step]?this.state.revisedWords[this.state.step].original:this.state.revisedWords[this.state.step].translation;if(e=t.target.textContent===n?"You were right":'Wrong! "'+this.state.revisedWords[this.state.step].translation+'" is "'+this.state.revisedWords[this.state.step].original+'"',this.state.step+1>=this.state.revisedWords.length){let t=this.props.words;for(let e=0;e<=this.state.step;e++)t[this.props.words.findIndex(r)].lastRevised=new Date,s++;return this.setState({lastResult:e,revisionInProgress:!1}),void this.props.onWordsUpdated(t)}this.setState({lastResult:e,step:this.state.step+1})}),this.renderOptions=(()=>{let t=[],e=Math.ceil(6*Math.random())-1;for(let s=0;s<6;s++){if(s===e){let e=this.state.revisedWords[this.state.step];t.push(r.a.createElement("button",{key:"button-"+s,onClick:this.nextStep},"original"===this.state.langSettings[this.state.step]?e.original:e.translation));continue}let a;for(;!a;){let t=Math.ceil(Math.random()*this.props.words.length)-1,e=this.props.words[t];e.original!==this.state.revisedWords[this.state.step].original&&e.translation!==this.state.revisedWords[this.state.step].translation&&(a=e)}t.push(r.a.createElement("button",{key:"button-"+s,onClick:this.nextStep},"original"===this.state.langSettings[this.state.step]?a.original:a.translation))}return t}),this.state={revisionInProgress:!1,wordsCount:10}}render(){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"number"},"Number of Words"),r.a.createElement("input",{type:"number",step:"1",min:"5",max:this.props.words.length,value:this.state.wordsCount,name:"number",onChange:this.wordsCount,disabled:this.state.revisionInProgress}),r.a.createElement("button",{onClick:this.startRevision,disabled:this.state.revisionInProgress},"Start"),this.state.lastResult&&r.a.createElement("p",null,this.state.lastResult),this.state.revisionInProgress&&r.a.createElement("div",null,r.a.createElement("p",null,"Progress: ",this.state.step+1,"/",this.state.wordsCount),r.a.createElement("p",{className:"word"},"original"!==this.state.langSettings[this.state.step]?this.state.revisedWords[this.state.step].original:this.state.revisedWords[this.state.step].translation),r.a.createElement("section",{className:"word-buttons"},this.renderOptions()),r.a.createElement("button",{onClick:this.stopRevisingByButton},"Stop")))}};var h=class extends r.a.Component{constructor(t){super(t),this.wordSortFn=((t,e)=>t.lastRevised<e.lastRevised?-1:t.lastRevised>e.lastRevised?1:0),this.showExportWords=(()=>{this.setState({display:"link",link:"data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({words:this.state.words,originalLanguage:this.props.original,targetLanguage:this.props.target}))})}),this.showTable=(()=>{this.setState({display:"table"})}),this.showRevise=(()=>{this.setState({display:"revise"})}),this.showAddWords=(()=>{this.setState({display:"add"})}),this.addWord=(t=>{let e=this.state.words;e.push(t),this.setState({words:e})}),this.updateWords=(t=>{this.setState({words:t})}),this.state={words:this.props.words,display:"table"}}render(){let t=this.state.words.sort(this.wordSortFn).map((t,e)=>r.a.createElement("tr",{key:"line-"+e},r.a.createElement("td",null,t.original),r.a.createElement("td",null,t.translation),r.a.createElement("td",null,t.lastRevised?new Date(t.lastRevised).toString():"Never")));return r.a.createElement("div",null,r.a.createElement("h2",null,"From ",this.props.original," to ",this.props.target),r.a.createElement("nav",null,r.a.createElement("button",{onClick:this.showTable},"Show table"),r.a.createElement("button",{onClick:this.showRevise},"Revise"),r.a.createElement("button",{onClick:this.showAddWords},"Add words"),r.a.createElement("button",{onClick:this.showExportWords},"Export words")),"add"===this.state.display&&r.a.createElement(o,{onWordAdded:this.addWord}),"revise"===this.state.display&&r.a.createElement(l,{words:this.state.words,onWordsUpdated:this.updateWords}),"link"===this.state.display&&r.a.createElement("a",{href:this.state.link,download:"words.json"},"Download updated words"),"table"===this.state.display&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,this.props.original),r.a.createElement("th",null,this.props.target),r.a.createElement("th",null,"Last revised"))),r.a.createElement("tbody",null,t)))}};var d=class extends r.a.Component{constructor(...t){super(...t),this.getFile=(t=>{let e=t.target.files;for(var s,a=0;s=e[a];a++){var r=new FileReader;r.onload=(t=>t=>{let e=JSON.parse(t.target.result);e.words?this.setState({words:e.words,original:e.originalLanguage,target:e.targetLanguage,wordsFormatError:!1}):this.setState({wordsFormatError:!0})})(),r.readAsText(s)}}),this.createNewFile=(()=>{this.setState({newlyCreated:!0,words:[]})}),this.goPracticing=(()=>{this.setState({newlyCreated:!1})}),this.addWord=(t=>{let e=this.state.words;e.push(t),this.setState({words:e})}),this.handleInputChange=(t=>{const e=t.target,s="checkbox"===e.type?e.checked:e.value,a=e.name;this.setState({[a]:s})})}render(){return this.state&&this.state.wordsFormatError?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Word Workout"),"Please, use correct word file",r.a.createElement("br",null),r.a.createElement("input",{type:"file",accept:"application/json",onChange:this.getFile})):this.state&&this.state.newlyCreated?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Word Workout"),r.a.createElement("label",{htmlFor:"original"},"Original:"),r.a.createElement("input",{type:"text",value:this.state.original,name:"original",onChange:this.handleInputChange}),r.a.createElement("label",{htmlFor:"target"},"Translation:"),r.a.createElement("input",{type:"text",value:this.state.target,name:"target",onChange:this.handleInputChange}),r.a.createElement(o,{onWordAdded:this.addWord}),r.a.createElement("button",{onClick:this.goPracticing},"Go to practicing")):this.state&&this.state.words.length>0&&this.state.target&&this.state.original?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Word Workout"),r.a.createElement(h,{words:this.state.words,target:this.state.target,original:this.state.original})):r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Word Workout"),r.a.createElement("input",{type:"file",accept:"application/json",onChange:this.getFile}),r.a.createElement("p",null,"Or start new learning file: ",r.a.createElement("button",{onClick:this.createNewFile},"Create")))}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()})}],[[3,1,2]]]);
//# sourceMappingURL=main.de6f9888.chunk.js.map